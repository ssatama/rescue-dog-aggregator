/* Import performance-optimized animations */
@import '../styles/animations.css' layer(base);

/* Import mobile/tablet dog grid styles */
@import '../styles/dog-grid.css' layer(base);

@import 'tailwindcss';

@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

@theme {
  --animate-shimmer: shimmer 2s infinite linear;
  --animate-slide-up: slideUp 0.3s ease-out;
  --animate-slide-down: slideDown 0.3s ease-in;
  --animate-bounce-gentle: bounceGentle 2s ease-in-out infinite;
  --animate-float-slow: floatSlow 4s ease-in-out infinite;
  --animate-float-medium: floatMedium 3s ease-in-out infinite;
  --animate-float-fast: floatFast 2.5s ease-in-out infinite;
  --animate-pulse-gentle: pulseGentle 3s ease-in-out infinite;
  --animate-pulse-slow: pulseSlow 4s ease-in-out infinite;

  --font-inter:
    var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI,
    sans-serif;
  --font-sans:
    var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI,
    sans-serif;

  --text-hero: var(--font-size-hero);
  --text-hero--line-height: var(--line-height-tight);
  --text-hero--letter-spacing: var(--letter-spacing-tight);
  --text-hero--font-weight: var(--font-weight-extrabold);
  --text-title: var(--font-size-title);
  --text-title--line-height: var(--line-height-snug);
  --text-title--letter-spacing: var(--letter-spacing-tight);
  --text-title--font-weight: var(--font-weight-bold);
  --text-section: var(--font-size-section);
  --text-section--line-height: var(--line-height-compact);
  --text-section--letter-spacing: var(--letter-spacing-tight);
  --text-section--font-weight: var(--font-weight-bold);
  --text-card-title: var(--font-size-card);
  --text-card-title--line-height: var(--line-height-compact);
  --text-card-title--letter-spacing: var(--letter-spacing-normal);
  --text-card-title--font-weight: var(--font-weight-semibold);
  --text-body: var(--font-size-body);
  --text-body--line-height: var(--line-height-relaxed);
  --text-body--letter-spacing: var(--letter-spacing-normal);
  --text-body--font-weight: var(--font-weight-normal);
  --text-small: var(--font-size-small);
  --text-small--line-height: var(--line-height-relaxed);
  --text-small--letter-spacing: var(--letter-spacing-wide);
  --text-small--font-weight: var(--font-weight-normal);
  --text-tiny: var(--font-size-tiny);
  --text-tiny--line-height: var(--line-height-compact);
  --text-tiny--letter-spacing: var(--letter-spacing-wide);
  --text-tiny--font-weight: var(--font-weight-medium);

  --font-weight-normal: var(--font-weight-normal);
  --font-weight-medium: var(--font-weight-medium);
  --font-weight-semibold: var(--font-weight-semibold);
  --font-weight-bold: var(--font-weight-bold);
  --font-weight-extrabold: var(--font-weight-extrabold);

  --tracking-tight: var(--letter-spacing-tight);
  --tracking-normal: var(--letter-spacing-normal);
  --tracking-wide: var(--letter-spacing-wide);

  --leading-tight: var(--line-height-tight);
  --leading-snug: var(--line-height-snug);
  --leading-compact: var(--line-height-compact);
  --leading-relaxed: var(--line-height-relaxed);
  --leading-loose: var(--line-height-loose);

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --color-guide-dark-base: #1a1a1a;
  --color-guide-dark-elevated: #242424;
  --color-guide-dark-higher: #2e2e2e;
  --color-guide-dark-border: #3f3f46;

  --color-guide-text-primary: #e4e4e7;
  --color-guide-text-secondary: #a1a1aa;

  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes slideUp {
    0% {
      transform: translateY(20px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }
  @keyframes slideDown {
    0% {
      transform: translateY(0);
      opacity: 1;
    }
    100% {
      transform: translateY(20px);
      opacity: 0;
    }
  }
  @keyframes bounceGentle {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }
  @keyframes floatSlow {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-10px) rotate(5deg);
    }
  }
  @keyframes floatMedium {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-8px) rotate(-5deg);
    }
  }
  @keyframes floatFast {
    0%,
    100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-6px) scale(1.1);
    }
  }
  @keyframes pulseGentle {
    0%,
    100% {
      transform: scale(1);
      opacity: 0.4;
    }
    50% {
      transform: scale(1.15);
      opacity: 0.6;
    }
  }
  @keyframes pulseSlow {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility animate-shimmer {
  /* Enhanced shimmer animation with blue tint */
  background: linear-gradient(
    90deg,
    hsl(var(--background)) 0%,
    rgba(59, 130, 246, 0.08) 50%,
    hsl(var(--background)) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite ease-in-out;
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    background: hsl(var(--background));
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
  & .skeleton-element {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
}

@utility animate-shimmer-warm {
  /* Enhanced shimmer for warm theme */
  background: linear-gradient(
    90deg,
    #fdfbf7 0%,
    rgba(251, 146, 60, 0.1) 50%,
    #fdfbf7 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite ease-in-out;

  /* Dark mode variant for shimmer-warm */
  .dark & {
    background: linear-gradient(
      90deg,
      rgb(31 41 55) 0%,
      rgba(147, 51, 234, 0.1) 50%,
      rgb(31 41 55) 100%
    );
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    background: hsl(var(--background));
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
}

@utility dark {
  /* Dark mode variant for shimmer-warm */
  & .animate-shimmer-warm {
    background: linear-gradient(
      90deg,
      rgb(31 41 55) 0%,
      rgba(147, 51, 234, 0.1) 50%,
      rgb(31 41 55) 100%
    );
  }

  /* Dark mode variant for premium shimmer */
  & .animate-shimmer-premium {
    background: linear-gradient(
      90deg,
      rgb(31 41 55) 0%,
      rgba(147, 51, 234, 0.15) 30%,
      rgba(147, 51, 234, 0.25) 50%,
      rgba(147, 51, 234, 0.15) 70%,
      rgb(31 41 55) 100%
    );
  }

  /* DEPRECATED: Dark mode variant - use .skeleton-element instead */
  & .skeleton {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.4) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode hero gradient - subtle dark tones matching organization pages */
  & .hero-gradient {
    background: linear-gradient(135deg, #1f2937 0%, #374151 50%, #4b5563 100%);
    background-size: 400% 400%;
    animation: gradient-shift 20s ease infinite;
  }

  /* Dark mode variant for skeleton element */
  & .skeleton-element {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.4) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode subtle intensity variant */
  & .skeleton-element.skeleton-subtle {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.2) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode variant for skeleton container */
  & .skeleton-container {
    background-color: hsl(var(--card));
  }
  @media (prefers-reduced-motion: reduce) {
    & .skeleton-element {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .skeleton-element.skeleton-subtle {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .skeleton {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .animate-pulse {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .animate-shimmer {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .animate-shimmer-warm {
      animation: none !important;
      background: #4b5563 !important;
    }

    & .animate-shimmer-premium {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
}

@utility animate-shimmer-premium {
  /* Session 6: Premium shimmer animation with enhanced orange-tinted effect */
  background: linear-gradient(
    90deg,
    #fdfbf7 0%,
    rgba(251, 146, 60, 0.15) 30%,
    rgba(251, 146, 60, 0.25) 50%,
    rgba(251, 146, 60, 0.15) 70%,
    #fdfbf7 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.8s infinite ease-in-out;

  /* Dark mode variant for premium shimmer */
  .dark & {
    background: linear-gradient(
      90deg,
      rgb(31 41 55) 0%,
      rgba(147, 51, 234, 0.15) 30%,
      rgba(147, 51, 234, 0.25) 50%,
      rgba(147, 51, 234, 0.15) 70%,
      rgb(31 41 55) 100%
    );
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    background: hsl(var(--background));
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
  & .skeleton-element {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
}

@utility skeleton {
  /* DEPRECATED: Skeleton element - use .skeleton-element instead */
  background: linear-gradient(
    90deg,
    hsl(var(--background)) 0%,
    rgba(229, 231, 235, 0.4) 50%,
    hsl(var(--background)) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 2s ease-in-out infinite;
  will-change: background-position;

  /* DEPRECATED: Dark mode variant - use .skeleton-element instead */
  .dark & {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.4) 50%,
      hsl(var(--background)) 100%
    );
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    background: rgba(229, 231, 235, 1);
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
}

@utility skeleton-shimmer {
  /* DEPRECATED: Use .skeleton-element instead */
  animation: skeleton-shimmer 2s ease-in-out infinite;
}

@utility bg-dot-pattern {
  /* Dot pattern background for Trust Section */
  background-image: radial-gradient(
    circle at 1px 1px,
    rgb(229 231 235 / 0.5) 1px,
    transparent 1px
  );
  background-size: 20px 20px;
}

@utility hero-gradient {
  /* Hero gradient background - peach/cream tones */
  background: linear-gradient(
    135deg,
    #fef7ed 0%,
    #fed7aa 30%,
    #fdba74 60%,
    #f97316 100%
  );
  background-size: 400% 400%;
  animation: gradient-shift 20s ease infinite;

  /* Dark mode hero gradient - subtle dark tones matching organization pages */
  .dark & {
    background: linear-gradient(135deg, #1f2937 0%, #374151 50%, #4b5563 100%);
    background-size: 400% 400%;
    animation: gradient-shift 20s ease infinite;
  }
  @media (max-width: 768px) {
    background-size: 300% 300%;
  }
  @media (prefers-contrast: high) {
    background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 50%, #e5e7eb 100%);
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    background: #fef7ed; /* Static background */
  }
}

@utility animate-pulse-dot {
  /* Enhanced Map dots pulse animation with staggered timing */
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  @media (max-width: 768px) {
    animation-duration: 2s; /* Faster on mobile for better performance */
  }
  @media (prefers-contrast: high) {
    animation: none; /* Disable animations for high contrast */
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    opacity: 0.6;
  }
}

@utility animate-pulse-dot-1 {
  /* Staggered map dot animations */
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  animation-delay: 0s;
}

@utility animate-pulse-dot-2 {
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  animation-delay: 0.2s;
}

@utility animate-pulse-dot-3 {
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  animation-delay: 0.4s;
}

@utility animate-pulse-dot-4 {
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  animation-delay: 0.6s;
}

@utility animate-pulse-dot-5 {
  animation: pulse-dot var(--animation-duration-slow) var(--animation-easing)
    infinite;
  animation-delay: 0.8s;
}

@utility animate-count-up {
  /* Counter number animation easing */
  animation: count-up 0.5s ease-out;
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    opacity: 1;
    transform: none;
  }
}

@utility mobile-carousel-container {
  /* Mobile carousel styles */
  width: 100%;
}

@utility dog-carousel {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */

  &::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }
}

@utility mobile-swipe {
  scroll-snap-type: x mandatory;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  will-change: transform;
  touch-action: pan-x;

  & > div > div {
    scroll-snap-align: start;
  }
}

@utility backdrop-blur-sm {
  /* Backdrop blur utilities for better browser support */
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

@utility backdrop-blur {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  @supports (backdrop-filter: blur(12px)) or
    (-webkit-backdrop-filter: blur(12px)) {
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
  }
  @supports not (backdrop-filter: blur(12px)) {
    background-color: rgba(255, 255, 255, 0.98) !important;
  }
}

@utility text-hero {
  /* Enhanced typography with improved contrast and scaling - DARK MODE COMPATIBLE */
  font-size: var(--font-size-hero);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
  font-weight: var(--font-weight-extrabold);
  color: hsl(
    var(--foreground)
  ); /* Use CSS variable for dark mode compatibility */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Added subtle depth */
}

@utility text-section {
  font-size: var(--font-size-section);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-normal);
  font-weight: var(--font-weight-bold);
  color: hsl(
    var(--foreground)
  ); /* Use CSS variable for dark mode compatibility */
}

@utility text-title {
  font-size: var(--font-size-title);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-tight);
  font-weight: var(--font-weight-bold);
  color: hsl(
    var(--foreground)
  ); /* Use CSS variable for dark mode compatibility */
}

@utility text-card-title {
  font-size: var(--font-size-card);
  line-height: var(--line-height-compact);
  letter-spacing: var(--letter-spacing-normal);
  font-weight: var(--font-weight-semibold);
  color: hsl(
    var(--foreground)
  ); /* Use CSS variable for dark mode compatibility */
}

@utility text-body {
  font-size: var(--font-size-body);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-normal);
  font-weight: var(--font-weight-normal);
  color: hsl(
    var(--muted-foreground)
  ); /* Use CSS variable for dark mode compatibility */
}

@utility animate-fade-in {
  animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 0;

  @media (prefers-reduced-motion: reduce) {
    animation: none;
    opacity: 1;
  }
}

@utility animate-fade-in-up {
  animation: fadeInUp var(--animation-duration-slow) var(--animation-easing)
    forwards;
  opacity: 0;
  transform: translateY(20px);
  @media (prefers-reduced-motion: reduce) {
    animation: none;
    opacity: 1;
    transform: none;
  }
}

@utility animate-stagger-1 {
  animation-delay: var(--stagger-delay-1);
  @media (prefers-reduced-motion: reduce) {
    /* Disable all stagger delays */
    animation-delay: 0s;
  }
}

@utility animate-stagger-2 {
  animation-delay: var(--stagger-delay-2);
  @media (prefers-reduced-motion: reduce) {
    animation-delay: 0s;
  }
}

@utility animate-stagger-3 {
  animation-delay: var(--stagger-delay-3);
  @media (prefers-reduced-motion: reduce) {
    animation-delay: 0s;
  }
}

@utility animate-stagger-4 {
  animation-delay: var(--stagger-delay-4);
  @media (prefers-reduced-motion: reduce) {
    animation-delay: 0s;
  }
}

@utility animate-stagger-5 {
  animation-delay: var(--stagger-delay-5);
  @media (prefers-reduced-motion: reduce) {
    animation-delay: 0s;
  }
}

@utility animate-stagger-6 {
  animation-delay: var(--stagger-delay-6);
  @media (prefers-reduced-motion: reduce) {
    animation-delay: 0s;
  }
}

@utility shadow-blue-sm {
  /* Keyframes for new animations */

  /* Blue-tinted shadow utilities */
  box-shadow: var(--shadow-blue-sm);
}

@utility shadow-blue-md {
  box-shadow: var(--shadow-blue-md);
}

@utility shadow-blue-lg {
  box-shadow: var(--shadow-blue-lg);
}

@utility shadow-blue-xl {
  box-shadow: var(--shadow-blue-xl);
}

@utility shadow-blue-2xl {
  box-shadow: var(--shadow-blue-2xl);
}

@utility animate-button-hover {
  @media (prefers-reduced-motion: reduce) {
    /* Disable Session 8 and Session 3 animations in reduced motion */
    &:hover {
      transform: none;
      box-shadow: none;
    }
  }

  /* Button Animations */
  transition:
    transform var(--animation-normal) var(--ease-smooth),
    box-shadow var(--animation-normal) var(--ease-smooth);
  will-change: transform, box-shadow;

  &:hover {
    transform: scale(var(--scale-hover));
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.15);
  }

  &:active {
    transform: scale(var(--scale-press));
    transition-duration: var(--animation-fast);
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
  }
}

@utility animate-card-hover {
  @media (prefers-reduced-motion: reduce) {
    &:hover {
      transform: none;
      box-shadow: none;
    }
  }

  /* Card Animations - Session 3 Enhanced */
  transition:
    transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;

  &:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 12px 24px -10px rgba(251, 146, 60, 0.3);
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
  }
}

@utility animate-org-card {
  @media (prefers-reduced-motion: reduce) {
    &:hover {
      transform: none;
      box-shadow: none;
    }
  }

  /* Organization Card Animations */
  transition:
    transform var(--animation-normal) var(--ease-smooth),
    box-shadow var(--animation-normal) var(--ease-smooth),
    border-color var(--animation-normal) var(--ease-smooth);
  will-change: transform, box-shadow, border-color;

  &:hover {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 6px 20px rgba(249, 115, 22, 0.15);
    border-color: #fed7aa;
  }
}

@utility group {
  @media (prefers-reduced-motion: reduce) {
    /* Disable image scale animations in reduced motion */
    &:hover .group-hover\:scale-102 {
      transform: none;
    }
    &:hover .group-hover\:scale-105 {
      transform: none;
    }
  }

  &:hover .group-hover\:scale-102 {
    transform: scale(1.02);
  }

  &:hover .group-hover\:scale-105 {
    transform: scale(1.05);
  }
}

/* group-hover:scale-102 and group-hover:scale-105 are handled by the group utility above */

@utility animate-page-enter {
  /* Page Enter Animation */
  animation: page-enter var(--animation-slow) var(--ease-smooth);
}

@utility focus-ring {
  /* Focus Ring */
  outline: 2px solid #f97316;
  outline-offset: 2px;
}

@utility will-change-transform {
  /* Performance Utilities */
  will-change: transform;

  /* Reduced motion support */

  /* GPU-accelerated animations */
  will-change: transform;
}

@utility gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

@utility scale-102 {
  /* Custom scale utilities for subtle animations - Session 3 Enhanced */
  transform: scale(1.02);
}

@utility scale-105 {
  transform: scale(1.05);
}

@utility animate-pulse {
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }
  }

  /* Deprecated classes - maintain for backward compatibility but prevent conflicts */
  &.skeleton-element {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
}

@utility btn-focus-ring {
  /* Enhanced button focus styles */
  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-2 outline-hidden;
    transition: box-shadow 200ms ease-out;
  }
}

@utility select-focus {
  /* Enhanced select focus styles */
  &:focus {
    @apply border-orange-300 ring-2 ring-orange-200 outline-hidden dark:border-orange-600 dark:ring-orange-900;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }
}

@utility enhanced-hover {
  /* Enhanced hover feedback for interactive elements */
  &:hover {
    @apply bg-orange-50 border-orange-300 dark:bg-gray-700 dark:border-gray-600;
    transition:
      background-color 200ms ease-out,
      border-color 200ms ease-out,
      transform 200ms ease-out;
    transform: translateY(-1px);
  }
}

@utility input-container {
  /* Enhanced input container styling */
  &:focus-within {
    @apply ring-2 ring-orange-200 ring-offset-1;
    transition: box-shadow 200ms ease-out;
  }
}

@utility form-enhanced {
  /* Enhanced visual feedback for form elements */
  transition: box-shadow 200ms ease-out;

  &:focus-within {
    @apply shadow-xs ring-1 ring-orange-200;
  }
}

@utility interactive-enhanced {
  /* Enhanced interaction states */
  transition:
    background-color 200ms ease-out,
    transform 200ms ease-out;

  &:hover {
    @apply bg-orange-50/50;
    transform: translateY(-0.5px);
  }

  &:active {
    transform: translateY(0);
  }

  /* Interactive enhanced elements */
  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-1 outline-hidden;
    transition: box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus-visible {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus-visible {
      transition: none;
    }
  }
  @media (pointer: coarse) {
    &:focus-visible {
      /* Larger focus targets for touch devices */
      ring-width: 3px;
      ring-offset-width: 3px;
    }
  }
}

@utility filter-section {
  /* ==================================================
     FLOATING FILTER PANEL ENHANCED ANIMATIONS
     ================================================== */

  /* Filter section smooth collapse animations - using grid for GPU-accelerated animation */
  overflow: hidden;
  display: grid;
  grid-template-rows: 1fr;
  transition:
    grid-template-rows 200ms ease-out,
    opacity 200ms ease-out;
  will-change: grid-template-rows;

  &.collapsed {
    grid-template-rows: 0fr;
  }

  & > * {
    overflow: hidden;
  }

  &.collapsed .filter-section-content {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@utility collapsed {
  &.filter-section {
    grid-template-rows: 0fr;
  }

  &.filter-section .filter-section-content {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@utility filter-section-content {
  transition:
    opacity 200ms ease-out,
    transform 200ms ease-out;
  will-change: transform;

  .filter-section.collapsed & {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@utility chevron-icon {
  /* Enhanced chevron icon rotation */
  transition: transform 200ms ease-out;

  &.chevron-open {
    transform: rotate(180deg);
  }
}

@utility chevron-open {
  &.chevron-icon {
    transform: rotate(180deg);
  }
}

@utility filter-section-active {
  /* Section active state indicators */
  position: relative;

  &::before {
    content: '';
    position: absolute;
    left: -1rem;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 20px;
    background: linear-gradient(to bottom, #f97316, #ea580c);
    border-radius: 2px;
    opacity: 0.8;
  }
  box-shadow:
    0 0 0 1px rgba(249, 115, 22, 0.1),
    0 0 20px rgba(249, 115, 22, 0.05);
  border-radius: 8px;
}

@utility backdrop-blur-md {
  @supports (backdrop-filter: blur(16px)) or
    (-webkit-backdrop-filter: blur(16px)) {
    -webkit-backdrop-filter: blur(16px);
    backdrop-filter: blur(16px);
  }
  @supports not (backdrop-filter: blur(16px)) {
    background-color: rgba(255, 255, 255, 0.98) !important;
  }
}

@utility grid {
  @supports not (display: grid) {
    display: flex;
    flex-wrap: wrap;
  }
}

@utility grid-cols-1 {
  @supports not (display: grid) {
    & > * {
      flex: 0 0 100%;
    }
  }
}

@utility grid-cols-2 {
  @supports not (display: grid) {
    & > * {
      flex: 0 0 50%;
    }
  }
}

@utility grid-cols-3 {
  @supports not (display: grid) {
    & > * {
      flex: 0 0 33.333%;
    }
  }
}

@utility cross-browser-transform {
  /* Enhanced backdrop blur support with better fallbacks */

  /* Fallback for browsers without backdrop-filter support */

  /* ==================================================
     CROSS-BROWSER COMPATIBILITY ENHANCEMENTS
     ================================================== */

  /* CSS Grid fallbacks for older browsers */

  /* Transform optimizations with vendor prefixes */
  -webkit-transform: translateZ(0);
  -moz-transform: translateZ(0);
  -ms-transform: translateZ(0);
  -o-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-perspective: 1000px;
  perspective: 1000px;
}

@utility cross-browser-gradient {
  /* Gradient fallbacks with vendor prefixes */
  background: #f97316; /* Fallback for very old browsers */
  background: -webkit-linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  background: -moz-linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  background: -ms-linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  background: -o-linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
}

@utility cross-browser-variables {
  /* CSS Variables fallbacks for IE11 and older Safari */
  background-color: #ea580c; /* Fallback */
  background-color: var(--custom-color, #ea580c);
}

@utility cross-browser-flex {
  /* Flexbox vendor prefixes for IE10+ */
  display: -webkit-box;
  display: -webkit-flex;
  display: -moz-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -webkit-align-items: center;
  -moz-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  -webkit-box-pack: justify;
  -webkit-justify-content: space-between;
  -moz-box-pack: justify;
  -ms-flex-pack: justify;
  justify-content: space-between;
}

@utility cross-browser-animation {
  /* Animation vendor prefixes */
  -webkit-animation: cross-browser-fadeIn 0.3s ease-out;
  -moz-animation: cross-browser-fadeIn 0.3s ease-out;
  -ms-animation: cross-browser-fadeIn 0.3s ease-out;
  animation: cross-browser-fadeIn 0.3s ease-out;
}

@utility cross-browser-transition {
  /* Enhanced transition support for all browsers */
  -webkit-transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
  -moz-transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
  -ms-transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
  -o-transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
  transition:
    transform 0.2s ease-out,
    opacity 0.2s ease-out;
}

@utility cross-browser-will-change {
  /* Will-change optimization for performance */
  -webkit-transform: translateZ(0); /* Hardware acceleration */
  transform: translateZ(0);
  will-change: transform, opacity;
}

@utility cross-browser-shadow {
  /* Box-shadow with vendor prefixes */
  -webkit-box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

@utility enhanced-focus-button {
  /* ==================================================
     ENHANCED FOCUS STATES SYSTEM
     ================================================== */

  /* Enhanced focus ring system */
  &:focus-visible {
    @apply ring-4 ring-orange-300 ring-offset-2 outline-hidden;
    transition: box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus-visible {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus-visible {
      transition: none;
    }
  }
  @media (pointer: coarse) {
    &:focus-visible {
      /* Larger focus targets for touch devices */
      ring-width: 3px;
      ring-offset-width: 3px;
    }
  }
}

@utility enhanced-focus-input {
  &:focus {
    @apply border-orange-400 ring-4 ring-orange-200 outline-hidden dark:border-orange-600 dark:ring-orange-900/50;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus {
      transition: none;
    }
  }
}

@utility enhanced-focus-textarea {
  &:focus {
    @apply border-orange-400 ring-4 ring-orange-200 outline-hidden;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus {
      transition: none;
    }
  }
}

@utility enhanced-focus-select {
  &:focus {
    @apply border-orange-400 ring-4 ring-orange-200 outline-hidden dark:border-orange-600 dark:ring-orange-900/50;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus {
      transition: none;
    }
  }
}

@utility enhanced-focus-link {
  &:focus-visible {
    @apply ring-2 ring-orange-400 ring-offset-1 outline-hidden rounded-sm;
    transition: box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus-visible {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus-visible {
      transition: none;
    }
  }
}

@utility enhanced-focus-card {
  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-2 outline-hidden border-orange-300;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }
  @media (prefers-contrast: high) {
    &:focus-visible {
      outline: 3px solid currentColor;
      outline-offset: 2px;
    }
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus-visible {
      transition: none;
    }
  }
  @media (pointer: coarse) {
    &:focus-visible {
      /* Larger focus targets for touch devices */
      ring-width: 3px;
      ring-offset-width: 3px;
    }
  }
}

@utility skip-link {
  /* Skip link enhanced styling */
  &:focus {
    @apply ring-4 ring-white ring-offset-2 ring-offset-orange-600 outline-hidden;
    transition: box-shadow 200ms ease-out;
  }
  @media (prefers-reduced-motion: reduce) {
    &:focus {
      transition: none;
    }
  }
}

@utility focus-trap {
  /* High contrast mode focus states */

  /* Reduced motion support for focus states */

  /* Focus management utilities */
  /* Ensure focus stays within container */
  isolation: isolate;

  & button:first-child {
    /* First focusable element in trap */
    position: relative;
  }

  & button:last-child {
    /* Last focusable element in trap */
    position: relative;
  }
}

@utility keyboard-navigation-active {
  /* Enhanced keyboard navigation indicators */
  & *:focus-visible {
    outline: 2px solid #ea580c;
    outline-offset: 2px;
  }
}

@utility mobile-touch-target {
  /* Touch device focus adaptations */

  /* ==================================================
     MOBILE POLISH & ACCESSIBILITY ENHANCEMENTS
     ================================================== */

  /* Mobile touch targets */
  min-height: 48px;
  min-width: 48px;
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(234, 88, 12, 0.2);

  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (max-width: 768px) {
    /* Larger touch targets on mobile */
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
  @supports (-webkit-touch-callout: none) {
    -webkit-appearance: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
  @media screen and (max-width: 768px) and (pointer: coarse) {
    &:active {
      background-color: rgba(234, 88, 12, 0.1);
      transform: scale(0.98);
    }
  }
}

@utility mobile-enhanced-tap {
  /* Enhanced tap areas for better mobile interaction */
  padding: 1rem; /* Equivalent to p-4 */
  min-height: 48px;
  touch-action: manipulation;
  transition: background-color 200ms ease-out;

  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (max-width: 768px) {
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
  @supports (-webkit-touch-callout: none) {
    -webkit-appearance: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
  @media screen and (max-width: 768px) and (pointer: coarse) {
    &:active {
      background-color: rgba(234, 88, 12, 0.1);
      transform: scale(0.98);
    }
  }
}

@utility mobile-responsive-text {
  /* Mobile responsive text sizing */
  line-height: 1.5;
  letter-spacing: 0.025em;
  @media (max-width: 768px) {
    /* Better text readability on mobile */
    font-size: 1.125rem;
    line-height: 1.6;
  }
  @media (max-width: 768px) and (orientation: landscape) {
    font-size: 1rem;
    line-height: 1.5;
  }
}

@utility mobile-form-input {
  /* Mobile form enhancements */
  min-height: 48px;
  font-size: 16px; /* Prevents zoom on iOS */
  border-radius: 0.375rem;
  padding-top: 0.75rem;
  padding-right: 0.75rem;
  padding-bottom: 0.75rem;
  touch-action: manipulation;
  @media (max-width: 768px) {
    /* Improved form spacing on mobile */
    padding-top: 1rem;
    padding-right: 1rem;
    padding-bottom: 1rem;
    font-size: 16px;
  }
  @supports (-webkit-touch-callout: none) {
    -webkit-appearance: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
}

@utility mobile-form-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
  margin-bottom: 0.5rem;
  display: block;
}

@utility mobile-form-help {
  font-size: 0.875rem;
  color: #6b7280;
  margin-top: 0.25rem;
}

@utility mobile-navigation {
  /* Mobile navigation enhancements */
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

@utility mobile-nav-link {
  min-height: 48px;
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  touch-action: manipulation;
  transition: background-color 200ms ease-out;

  &:hover {
    background-color: rgba(251, 146, 60, 0.1);
    outline: 2px solid #ea580c;
    outline-offset: 2px;
  }

  &:focus {
    background-color: rgba(251, 146, 60, 0.1);
    outline: 2px solid #ea580c;
    outline-offset: 2px;
  }
  @media (max-width: 768px) {
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
  @supports (-webkit-touch-callout: none) {
    -webkit-appearance: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
}

@utility mobile-card-spacing {
  /* Mobile card optimizations */
  margin-bottom: 1rem;
  padding: 1.5rem;
  border-radius: 0.5rem;
  @media (max-width: 768px) {
    /* Mobile card spacing adjustments */
    margin-bottom: 1.5rem;
    padding: 1rem;
  }
  @media (max-width: 768px) and (orientation: landscape) {
    padding: 1rem;
    margin-bottom: 1rem;
  }
}

@utility mobile-card-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: 0.75rem;
  line-height: 1.4;
}

@utility mobile-card-content {
  color: #6b7280;
  margin-bottom: 1rem;
  line-height: 1.6;
}

@utility mobile-card-button {
  width: 100%;
  min-height: 48px;
  font-weight: 500;
  border-radius: 0.375rem;
  touch-action: manipulation;
  transition:
    background-color 200ms ease-out,
    transform 200ms ease-out,
    box-shadow 200ms ease-out;

  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (max-width: 768px) {
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
  @media screen and (max-width: 768px) and (pointer: coarse) {
    &:active {
      background-color: rgba(234, 88, 12, 0.1);
      transform: scale(0.98);
    }
  }
}

@utility high-contrast-support {
  /* High contrast mode support */
  border: 1px solid #d1d5db;
  padding: 1rem;
  border-radius: 0.5rem;

  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
    background-color: transparent;
  }
}

@utility reduced-motion-friendly {
  /* Reduced motion friendly animations */
  transition: transform 300ms ease-out;

  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &:hover {
      transform: none;
    }
  }
}

@utility skeleton-element {
  /* Mobile viewport optimizations */

  /* iOS specific fixes */

  /* Android specific optimizations */

  /* Landscape mobile optimizations */

  /* ==================================================
     UNIFIED SKELETON ANIMATION SYSTEM
     ================================================== */

  /* Keyframe for subtle shimmer animation */

  /* Main skeleton element with shimmer gradient */
  background: linear-gradient(
    90deg,
    hsl(var(--background)) 0%,
    rgba(229, 231, 235, 0.4) 50%,
    hsl(var(--background)) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 2s ease-in-out infinite;
  will-change: background-position;

  /* Subtle intensity variant for skeleton element */
  &.skeleton-subtle {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(229, 231, 235, 0.2) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode variant for skeleton element */
  .dark & {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.4) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode subtle intensity variant */
  .dark &.skeleton-subtle {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.2) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    background: #e5e7eb !important;
    &.skeleton-subtle {
      animation: none !important;
      background: #e5e7eb !important;
    }

    .dark & {
      animation: none !important;
      background: #4b5563 !important;
    }

    .dark &.skeleton-subtle {
      animation: none !important;
      background: #4b5563 !important;
    }
  }

  /* Deprecated classes - maintain for backward compatibility but prevent conflicts */
  &.animate-pulse {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
  &.animate-shimmer {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
  &.animate-shimmer-premium {
    animation: skeleton-shimmer 2s ease-in-out infinite !important;
  }
}

@utility skeleton-subtle {
  /* Subtle intensity variant for skeleton element */
  &.skeleton-element {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(229, 231, 235, 0.2) 50%,
      hsl(var(--background)) 100%
    );
  }

  /* Dark mode subtle intensity variant */
  .dark &.skeleton-element {
    background: linear-gradient(
      90deg,
      hsl(var(--background)) 0%,
      rgba(75, 85, 99, 0.2) 50%,
      hsl(var(--background)) 100%
    );
  }
  @media (prefers-reduced-motion: reduce) {
    & .skeleton-element {
      animation: none !important;
      background: #e5e7eb !important;
    }

    .dark &.skeleton-element {
      animation: none !important;
      background: #4b5563 !important;
    }
  }
}

@utility skeleton-container {
  /* Static container for skeleton cards */
  background-color: hsl(var(--card));
  opacity: 1;
  transform: none;
  animation: none;

  /* Dark mode variant for skeleton container */
  .dark & {
    background-color: hsl(var(--card));
  }
}

@utility theme-consistent-button {
  /* ==================================================
     VISUAL CONSISTENCY & THEME SYSTEM
     ================================================== */

  /* Consistent button system */
  font-weight: 500;
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  transition:
    background-color 200ms ease-out,
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
  min-height: 48px;
  touch-action: manipulation;

  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-2 outline-hidden;
  }
  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }

  @media print {
    background: white !important;
    color: black !important;
    border: 1px solid black !important;
  }
}

@utility theme-consistent-link {
  /* Consistent link system */
  color: #ea580c;
  transition: color 200ms ease-out;
  text-decoration: underline;
  text-underline-offset: 2px;

  &:hover {
    color: #c2410c;
  }

  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-1 outline-hidden rounded-sm;
  }
  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }

  @media print {
    color: black !important;
    text-decoration: underline !important;
  }
}

@utility theme-consistent-input {
  /* Consistent form inputs */
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  padding: 0.75rem;
  transition:
    border-color 200ms ease-out,
    box-shadow 200ms ease-out;
  min-height: 48px;
  font-size: 16px; /* Prevents zoom on iOS */

  &:focus {
    border-color: #fb923c;
    box-shadow: 0 0 0 3px rgba(251, 146, 60, 0.1);
    outline: none;
  }
  @media (prefers-color-scheme: dark) {
    background-color: #374151;
    border-color: #4b5563;
    color: white;

    &::placeholder {
      color: #9ca3af;
    }
  }
}

@utility theme-consistent-select {
  border: 1px solid #d1d5db;
  border-radius: 0.375rem;
  padding: 0.75rem;
  transition:
    border-color 200ms ease-out,
    box-shadow 200ms ease-out;
  min-height: 48px;
  font-size: 16px; /* Prevents zoom on iOS */

  &:focus {
    border-color: #fb923c;
    box-shadow: 0 0 0 3px rgba(251, 146, 60, 0.1);
    outline: none;
  }
  @media (prefers-color-scheme: dark) {
    background-color: #374151;
    border-color: #4b5563;
    color: white;

    &::placeholder {
      color: #9ca3af;
    }
  }
}

@utility theme-consistent-badge {
  /* Consistent badge system */
  background-color: #fed7aa;
  color: #c2410c;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
  @media (prefers-contrast: high) {
    border: 1px solid currentColor;
  }

  @media print {
    background: white !important;
    color: black !important;
    border: 1px solid black !important;
  }
}

@utility theme-consistent-card {
  /* Consistent card system */
  background-color: white;
  border-radius: 0.5rem;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
  border: 1px solid #e5e7eb;
  padding: 1.5rem;
  transition:
    box-shadow 200ms ease-out,
    transform 200ms ease-out;

  &:hover {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transform: translateY(-1px);
  }
  @media (prefers-color-scheme: dark) {
    background-color: #374151;
    border-color: #4b5563;
    color: white;
  }
  @media (prefers-contrast: high) {
    border: 2px solid #4b5563;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &:hover {
      transform: none;
    }
  }

  @media print {
    border: 1px solid black !important;
    box-shadow: none !important;
  }
}

@utility theme-consistent-title {
  /* Consistent typography */
  font-size: 1.125rem;
  font-weight: 600;
  color: #111827;
  line-height: 1.5;
  @media (prefers-color-scheme: dark) {
    color: #f9fafb;
  }
}

@utility theme-consistent-text {
  color: #6b7280;
  line-height: 1.6;
  @media (prefers-color-scheme: dark) {
    color: #d1d5db;
  }
}

/* theme-consistent-nav: Base navigation styling is handled by theme-consistent-nav-link below */

@utility theme-consistent-nav-link {
  color: #ea580c;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  transition:
    color 200ms ease-out,
    background-color 200ms ease-out;
  display: inline-block;
  min-height: 48px;
  display: flex;
  align-items: center;

  &:hover {
    color: #c2410c;
    background-color: #fed7aa;
  }

  &:focus-visible {
    @apply ring-2 ring-orange-300 ring-offset-2 outline-hidden;
  }
  @media (prefers-contrast: high) {
    border: 2px solid currentColor;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }
}

@utility theme-consistent-gradient {
  /* Consistent gradient system */
  background-image: linear-gradient(to right, #f97316, #ea580c);
  color: white;
  padding: 1rem 1.5rem;
  border-radius: 0.5rem;
  transition:
    background-image 200ms ease-out,
    transform 200ms ease-out,
    box-shadow 200ms ease-out;

  &:hover {
    background-image: linear-gradient(to right, #ea580c, #dc2626);
    transform: translateY(-1px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;

    &:hover {
      transform: none;
    }
  }
}

@utility theme-consistent-icon {
  /* Consistent icon system */
  color: #f97316;
  transition: color 200ms ease-out;

  &:hover {
    color: #ea580c;
  }
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }
}

@utility theme-consistent-progress {
  /* Consistent progress system */
  background-color: #e5e7eb;
  border-radius: 9999px;
  height: 0.5rem;
  overflow: hidden;

  & .progress-bar {
    background-color: #f97316;
    height: 100%;
    border-radius: 9999px;
    transform-origin: left;
    transition: transform 300ms ease-out;
  }
}

@utility progress-bar {
  .theme-consistent-progress & {
    background-color: #f97316;
    height: 100%;
    border-radius: 9999px;
    transform-origin: left;
    transition: transform 300ms ease-out;
  }
}

@utility theme-consistent-alert {
  /* Consistent alert system */
  background-color: #fed7aa;
  border: 1px solid #fdba74;
  color: #9a3412;
  padding: 1rem;
  border-radius: 0.5rem;
  position: relative;

  @media print {
    background: white !important;
    color: black !important;
    border: 1px solid black !important;
  }
}

@utility theme-consistent-error {
  background-color: #fef2f2;
  border: 1px solid #fecaca;
  color: #dc2626;
  padding: 1rem;
  border-radius: 0.5rem;
}

@utility theme-consistent-success {
  background-color: #f0fdf4;
  border: 1px solid #bbf7d0;
  color: #166534;
  padding: 1rem;
  border-radius: 0.5rem;
}

@utility theme-consistent-loading {
  /* Consistent loading states */
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  background-color: #e5e7eb;
  border-radius: 0.5rem;

  & .loading-accent {
    background-color: #fed7aa;
    border-radius: 0.25rem;
    margin-bottom: 0.5rem;
  }
}

@utility loading-accent {
  .theme-consistent-loading & {
    background-color: #fed7aa;
    border-radius: 0.25rem;
    margin-bottom: 0.5rem;
  }
}

@utility hover-lift {
  /* Dark mode support for theme consistency */

  /* High contrast mode theme adjustments */

  /* Reduced motion theme considerations */

  /* Print styles for theme consistency */
  /* Hover lift utility for subtle card interactions */
  @apply hover:shadow-md dark:hover:shadow-lg dark:hover:shadow-purple-500/10 hover:-translate-y-0.5 transition-all duration-200 will-change-transform;
}

@utility bg-surface {
  /* Dark Mode Utility Classes for Consistent Theming */

  /* Background utilities with automatic dark mode */
  @apply bg-background dark:bg-background;
}

@utility bg-surface-elevated {
  @apply bg-card dark:bg-card;
}

@utility bg-surface-overlay {
  @apply bg-popover dark:bg-popover;
}

@utility text-primary {
  /* Text color utilities with dark mode variants */
  @apply text-foreground dark:text-foreground;
}

@utility text-secondary {
  @apply text-muted-foreground dark:text-muted-foreground;
}

@utility text-accent-orange {
  @apply text-orange-600 dark:text-orange-400;
}

@utility text-accent-green {
  @apply text-green-600 dark:text-green-400;
}

@utility border-surface {
  /* Border utilities with dark mode */
  @apply border-border dark:border-border;
}

@utility border-accent {
  @apply border-orange-200 dark:border-orange-800;
}

@utility focus-ring-orange {
  /* Interactive element utilities */
  @apply focus:ring-2 focus:ring-orange-600 dark:focus:ring-orange-400 focus:ring-offset-2 focus:outline-hidden;
}

@utility hover-bg-surface {
  @apply hover:bg-muted dark:hover:bg-muted;
}

@utility hover-text-orange {
  @apply hover:text-orange-600 dark:hover:text-orange-400;
}

@utility icon-bg-orange {
  /* Icon background utilities */
  @apply bg-orange-100 dark:bg-orange-950/30;
}

@utility icon-bg-green {
  @apply bg-green-100 dark:bg-green-950/30;
}

@utility icon-bg-blue {
  @apply bg-blue-100 dark:bg-blue-950/30;
}

@utility card-shadow {
  /* Card shadow utilities for dark mode */
  @apply shadow-xs hover:shadow-md dark:shadow-lg dark:shadow-purple-500/5 dark:hover:shadow-purple-500/10;
}

@utility skeleton-bg {
  /* Loading state utilities */
  @apply bg-gray-200 dark:bg-gray-700 animate-pulse;
}

@utility placeholder-bg {
  @apply bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400;
}

@utility input-field {
  /* Form input styling with dark mode */
  @apply bg-background dark:bg-background border-input dark:border-input text-foreground dark:text-foreground;
  @apply focus:border-orange-600 dark:focus:border-orange-400 focus:ring-orange-600 dark:focus:ring-orange-400;
}

@utility btn-primary {
  /* Button variants with consistent dark mode */
  @apply bg-orange-600 hover:bg-orange-700 dark:bg-orange-500 dark:hover:bg-orange-600;
  @apply text-white border-transparent;
}

@utility btn-secondary {
  @apply bg-secondary hover:bg-secondary/80 dark:bg-secondary dark:hover:bg-secondary/80;
  @apply text-secondary-foreground dark:text-secondary-foreground border-border dark:border-border;
}

@utility btn-outline {
  @apply bg-background hover:bg-muted dark:bg-background dark:hover:bg-muted;
  @apply text-foreground dark:text-foreground border-border dark:border-border;
}

@utility alert-info {
  /* Alert/notification styling */
  @apply bg-blue-50 dark:bg-blue-950/30 text-blue-900 dark:text-blue-100 border-blue-200 dark:border-blue-800;
}

@utility alert-success {
  @apply bg-green-50 dark:bg-green-950/30 text-green-900 dark:text-green-100 border-green-200 dark:border-green-800;
}

@utility alert-warning {
  @apply bg-yellow-50 dark:bg-yellow-950/30 text-yellow-900 dark:text-yellow-100 border-yellow-200 dark:border-yellow-800;
}

@utility alert-error {
  @apply bg-red-50 dark:bg-red-950/30 text-red-900 dark:text-red-100 border-red-200 dark:border-red-800;
}

@utility badge-default {
  /* Badge styling */
  @apply bg-muted text-muted-foreground dark:bg-muted dark:text-muted-foreground;
}

@utility badge-orange {
  @apply bg-orange-100 text-orange-800 dark:bg-orange-950/30 dark:text-orange-400;
}

@utility badge-green {
  @apply bg-green-100 text-green-800 dark:bg-green-950/30 dark:text-green-400;
}

@utility nav-link {
  /* Navigation styling */
  @apply text-foreground hover:text-orange-600 dark:text-foreground dark:hover:text-orange-400;
  @apply transition-colors duration-200;
}

@utility nav-link-active {
  @apply text-orange-600 dark:text-orange-400 font-medium;
}

@utility content-fade-in {
  /* ==================================================
     CONTENT FADE-IN TRANSITION SYSTEM
     ================================================== */

  /* Smooth fade-in transition for content loading */
  opacity: 0;
  animation: content-fade-in 300ms ease-out forwards;
  will-change: opacity;

  /* Ensure no layout shift during transition */
  & * {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    opacity: 1 !important;
  }
}

@utility sticky {
  @supports (-webkit-touch-callout: none) {
    /* Fix for sticky positioning in Safari */
    position: -webkit-sticky;
    position: sticky;
  }
}

@layer utilities {
  /* Swipe animations */
  @keyframes heart-burst {
    0% {
      transform: scale(0) rotate(0deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(10deg);
      opacity: 1;
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  .animate-heart-burst {
    animation: heart-burst 0.5s ease-out;
  }

  /* GPU-accelerated animations */
  .will-change-transform {
    will-change: transform;
  }

  /* Shimmer effect for loading states */
  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  .shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
  }

  /* Fade in animation for TrustBand logos */
  @keyframes fadeInSlide {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeInSlide 0.6s ease-out forwards;
  }
}

@layer base {
  :root {
    /* Updated warm color scheme */
    --background: 31 100% 98%; /* #FDFBF7 warm off-white */
    --foreground: 222.2 84% 4.9%;
    --card: 31 100% 99%; /* Slightly warmer card background */
    --card-foreground: 222.2 84% 4.9%;
    --popover: 31 100% 99%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 25 95% 53%; /* Orange #F97316 - matches site theme */
    --primary-foreground: 0 0% 100%; /* White text on orange */
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;

    /* Orange-tinted shadows for premium feel */
    --shadow-orange-xs: 0 1px 2px rgba(249, 115, 22, 0.05);
    --shadow-orange-sm:
      0 1px 3px rgba(249, 115, 22, 0.1), 0 1px 2px rgba(249, 115, 22, 0.06);
    --shadow-orange-md:
      0 4px 6px rgba(249, 115, 22, 0.07), 0 2px 4px rgba(249, 115, 22, 0.06);
    --shadow-orange-lg:
      0 10px 15px rgba(249, 115, 22, 0.1), 0 4px 6px rgba(249, 115, 22, 0.05);
    --shadow-orange-xl:
      0 20px 25px rgba(249, 115, 22, 0.1), 0 10px 10px rgba(249, 115, 22, 0.04);
    --shadow-orange-2xl: 0 25px 50px rgba(249, 115, 22, 0.15);

    /* Animation duration and timing custom properties */
    --animation-duration-fast: 150ms;
    --animation-duration-normal: 300ms;
    --animation-duration-slow: 500ms;
    --animation-duration-slower: 700ms;
    --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
    --animation-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --animation-easing-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);

    /* Stagger animation delays */
    --stagger-delay-1: 50ms;
    --stagger-delay-2: 100ms;
    --stagger-delay-3: 150ms;
    --stagger-delay-4: 200ms;
    --stagger-delay-5: 250ms;
    --stagger-delay-6: 300ms;

    /* Typography Scale - Responsive with clamp() - ENHANCED for Priority 3 */
    --font-size-hero: clamp(
      2.5rem,
      4.5vw + 1rem,
      4.25rem
    ); /* 40px-68px (increased from 36px-60px) */
    --font-size-title: clamp(2rem, 3vw + 1rem, 3rem); /* 32px-48px */
    --font-size-section: clamp(
      1.75rem,
      3vw + 0.5rem,
      2.25rem
    ); /* 28px-36px (increased from 24px-32px) */
    --font-size-card: 1.25rem; /* 20px */
    --font-size-body: 1rem; /* 16px */
    --font-size-small: 0.875rem; /* 14px */
    --font-size-tiny: 0.75rem; /* 12px */

    /* Line Heights */
    --line-height-tight: 1.1;
    --line-height-snug: 1.2;
    --line-height-compact: 1.3;
    --line-height-relaxed: 1.5;
    --line-height-loose: 1.6;

    /* Letter Spacing */
    --letter-spacing-tight: -0.02em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.01em;

    /* Font Weights */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
  }
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* Dark mode shadows with purple tint */
    --shadow-blue-xs: 0 1px 2px rgba(147, 51, 234, 0.1);
    --shadow-blue-sm:
      0 1px 3px rgba(147, 51, 234, 0.15), 0 1px 2px rgba(147, 51, 234, 0.1);
    --shadow-blue-md:
      0 4px 6px rgba(147, 51, 234, 0.12), 0 2px 4px rgba(147, 51, 234, 0.1);
    --shadow-blue-lg:
      0 10px 15px rgba(147, 51, 234, 0.15), 0 4px 6px rgba(147, 51, 234, 0.1);
    --shadow-blue-xl:
      0 20px 25px rgba(147, 51, 234, 0.15), 0 10px 10px rgba(147, 51, 234, 0.08);
    --shadow-blue-2xl: 0 25px 50px rgba(147, 51, 234, 0.2);

    /* Typography and animation variables remain the same in dark mode */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes gradient-shift {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  @keyframes pulse-dot {
    0%,
    100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.4);
    }
  }
  @keyframes count-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateX(-50%) translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  /* Mobile-specific improvements */

  /* High contrast mode support */

  /* Enhanced reduced motion support */

  /* ==================================================
     SESSION 8 ENHANCED ANIMATIONS
     ================================================== */

  /* Animation Variables */
  :root {
    --animation-fast: 150ms;
    --animation-normal: 200ms;
    --animation-slow: 300ms;
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --scale-hover: 1.02;
    --scale-press: 0.98;
  }
  @keyframes page-enter {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Session 7: Cross-browser compatibility enhancements */

  /* Backdrop filter support with fallbacks */

  /* Fallback for browsers without backdrop-filter support */

  /* Ensure animations respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Enhanced form input focus styles with orange theme */
  input:focus,
  textarea:focus,
  select:focus {
    @apply border-orange-300 ring-2 ring-orange-200 outline-hidden;
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }

  /* Enhanced placeholder styling */
  input::placeholder,
  textarea::placeholder {
    @apply text-gray-400;
    transition: opacity 200ms ease-out;
  }

  input:focus::placeholder,
  textarea:focus::placeholder {
    @apply text-gray-300;
  }
  @-webkit-keyframes cross-browser-fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @-moz-keyframes cross-browser-fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @-ms-keyframes cross-browser-fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes cross-browser-fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes skeleton-shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes content-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Safari-specific fixes for sticky header */
  @supports (-webkit-touch-callout: none) {
    /* Safari only CSS */
    header {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    /* Prevent logo disappearing in Safari */
    img {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
    }
  }

  /* Additional fixes for production environment */
  header img {
    display: block;
    max-width: 100%;
    height: auto;
  }
}